<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Example 7 - Slots | Component Factory</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
</head>
<body>
	<page-header></page-header>

	<div class="container my-5">
		<div class="row">
			<div class="col-lg-8 mx-auto">
				<example-section 
					icon="bi bi-7-circle-fill" 
					title="Example 7: Slots" 
					description="Demonstrates slot usage for customizable component content. Supports default slots and named slots."
					variant="dark">
				</example-section>

				<div class="card mb-4">
					<div class="card-header">
						<h5 class="mb-0"><i class="bi bi-eye"></i> Default Slot Demo</h5>
					</div>
					<div class="card-body">
						<h6>Basic Card with Default Slot:</h6>
						<card-component>
							<p>This content is passed through the default slot!</p>
							<p>You can put <strong>any HTML</strong> here.</p>
						</card-component>

						<h6 class="mt-4">Card with Default Content (no slot content provided):</h6>
						<card-component></card-component>
					</div>
				</div>

				<div class="card mb-4">
					<div class="card-header">
						<h5 class="mb-0"><i class="bi bi-eye"></i> Named Slots Demo</h5>
					</div>
					<div class="card-body">
						<h6>Dialog with Named Slots:</h6>
						<dialog-component>
							<span slot="title">Confirmation Required</span>
							<span slot="content">
								Are you sure you want to delete this item? This action cannot be undone.
							</span>
							<span slot="footer">
								<button class="btn btn-sm btn-secondary">Cancel</button>
								<button class="btn btn-sm btn-danger">Delete</button>
							</span>
						</dialog-component>

						<h6 class="mt-4">Dialog with Partial Slots (using defaults):</h6>
						<dialog-component>
							<span slot="title">Welcome!</span>
							<span slot="content">
								This dialog only provides title and content, footer uses default.
							</span>
						</dialog-component>
					</div>
				</div>

				<div class="card mb-4">
					<div class="card-header">
						<h5 class="mb-0"><i class="bi bi-eye"></i> Mixed Slots Demo</h5>
					</div>
					<div class="card-body">
						<h6>Article with Mixed Slots:</h6>
						<article-component>
							<h3 slot="header">Introduction to Web Components</h3>
							<span slot="author">by John Doe</span>
							<p>Web components are a set of web platform APIs that allow you to create custom, reusable HTML tags.</p>
							<p>They provide encapsulation and reusability, making them perfect for building scalable applications.</p>
							<span slot="footer">Published on February 2, 2026</span>
						</article-component>
					</div>
				</div>

				<event-log id="eventLog"></event-log>

				<div class="card mt-4">
					<div class="card-header">
						<h5 class="mb-0"><i class="bi bi-code-square"></i> Source Code</h5>
					</div>
					<div class="card-body">
						<h6>Default Slot Template:</h6>
						<pre class="bg-dark text-light p-3 rounded"><code>&lt;template id="card-template"&gt;
  &lt;div class="card"&gt;
    &lt;div class="card-body"&gt;
      &lt;slot&gt;Default content goes here&lt;/slot&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;</code></pre>

						<h6 class="mt-3">Named Slots Template:</h6>
						<pre class="bg-dark text-light p-3 rounded"><code>&lt;template id="dialog-template"&gt;
  &lt;div class="dialog"&gt;
    &lt;div class="dialog-header"&gt;
      &lt;slot name="title"&gt;Default Title&lt;/slot&gt;
    &lt;/div&gt;
    &lt;div class="dialog-body"&gt;
      &lt;slot name="content"&gt;Default content&lt;/slot&gt;
    &lt;/div&gt;
    &lt;div class="dialog-footer"&gt;
      &lt;slot name="footer"&gt;
        &lt;button class="btn btn-primary"&gt;OK&lt;/button&gt;
      &lt;/slot&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;</code></pre>

						<h6 class="mt-3">Usage:</h6>
						<pre class="bg-dark text-light p-3 rounded"><code>&lt;!-- Default slot --&gt;
&lt;card-component&gt;
  &lt;p&gt;This goes in the default slot&lt;/p&gt;
&lt;/card-component&gt;

&lt;!-- Named slots --&gt;
&lt;dialog-component&gt;
  &lt;span slot="title"&gt;My Title&lt;/span&gt;
  &lt;span slot="content"&gt;My Content&lt;/span&gt;
  &lt;span slot="footer"&gt;My Footer&lt;/span&gt;
&lt;/dialog-component&gt;</code></pre>

						<h6 class="mt-3">JavaScript:</h6>
						<pre class="bg-dark text-light p-3 rounded"><code>component('card-component', '#card-template');
component('dialog-component', '#dialog-template');</code></pre>
					</div>
				</div>

				<div class="card mt-4">
					<div class="card-header">
						<h5 class="mb-0"><i class="bi bi-info-circle"></i> How Slots Work</h5>
					</div>
					<div class="card-body">
						<div class="table-responsive">
							<table class="table table-bordered">
								<thead>
									<tr>
										<th>Slot Type</th>
										<th>Usage</th>
										<th>Description</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td><code>&lt;slot&gt;</code></td>
										<td>Default slot</td>
										<td>Accepts any content without slot attribute</td>
									</tr>
									<tr>
										<td><code>&lt;slot name="foo"&gt;</code></td>
										<td>Named slot</td>
										<td>Accepts content with matching <code>slot="foo"</code> attribute</td>
									</tr>
									<tr>
										<td><code>&lt;slot&gt;Default&lt;/slot&gt;</code></td>
										<td>Fallback content</td>
										<td>Shown when no content is provided for the slot</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- Templates -->
	<template id="card-template">
		<style>
			.card {
				border: 2px solid #3498db;
				border-radius: 8px;
				padding: 20px;
				background: #2c3e50;
				color: white;
				margin: 10px 0;
			}
		</style>
		<div class="card">
			<div class="card-body">
				<slot>This is the default content shown when no slot content is provided.</slot>
			</div>
		</div>
	</template>

	<template id="dialog-template">
		<style>
			.dialog {
				border: 2px solid #9b59b6;
				border-radius: 8px;
				background: white;
				color: #333;
				margin: 10px 0;
				overflow: hidden;
			}
			.dialog-header {
				background: #9b59b6;
				color: white;
				padding: 15px;
				font-weight: bold;
				font-size: 1.2em;
			}
			.dialog-body {
				padding: 20px;
			}
			.dialog-footer {
				background: #ecf0f1;
				padding: 15px;
				text-align: right;
			}
		</style>
		<div class="dialog">
			<div class="dialog-header">
				<slot name="title">Dialog Title</slot>
			</div>
			<div class="dialog-body">
				<slot name="content">Dialog content goes here.</slot>
			</div>
			<div class="dialog-footer">
				<slot name="footer">
					<button class="btn btn-sm btn-primary">OK</button>
				</slot>
			</div>
		</div>
	</template>

	<template id="article-template">
		<style>
			.article {
				border: 1px solid #ddd;
				border-radius: 8px;
				background: white;
				color: #333;
				margin: 10px 0;
			}
			.article-header {
				background: #34495e;
				color: white;
				padding: 20px;
			}
			.article-header h3 {
				margin: 0 0 10px 0;
			}
			.article-author {
				font-size: 0.9em;
				color: #ecf0f1;
			}
			.article-body {
				padding: 20px;
			}
			.article-footer {
				background: #f8f9fa;
				padding: 15px;
				font-size: 0.9em;
				color: #6c757d;
			}
		</style>
		<article class="article">
			<header class="article-header">
				<slot name="header"></slot>
				<div class="article-author">
					<slot name="author">Anonymous</slot>
				</div>
			</header>
			<div class="article-body">
				<slot>Article content goes here.</slot>
			</div>
			<footer class="article-footer">
				<slot name="footer"></slot>
			</footer>
		</article>
	</template>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
	<script type="module">
		import { component } from './component-factory.js';
		import './components.js';

		const eventLog = document.getElementById('eventLog');

		function logEvent(message, type = 'info') {
			eventLog.log(message, type);
		}

		// Card component with default slot
		component('card-component', '#card-template', {
			mounted() {
				logEvent('âœ… card-component mounted');
			}
		});

		// Dialog component with named slots
		component('dialog-component', '#dialog-template', {
			mounted() {
				logEvent('âœ… dialog-component mounted');
			}
		});

		// Article component with mixed slots
		component('article-component', '#article-template', {
			mounted() {
				logEvent('âœ… article-component mounted');
			}
		});

		setTimeout(() => {
			logEvent('ðŸš€ Slots demo initialized', 'success');
		}, 100);
	</script>
</body>
</html>
